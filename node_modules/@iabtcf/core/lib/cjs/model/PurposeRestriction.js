"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PurposeRestriction=void 0;const Cloneable_js_1=require("../Cloneable.js"),index_js_1=require("../errors/index.js"),RestrictionType_js_1=require("./RestrictionType.js");class PurposeRestriction extends Cloneable_js_1.Cloneable{constructor(e,s){super(),void 0!==e&&(this.purposeId=e),void 0!==s&&(this.restrictionType=s)}static unHash(e){const s=e.split(this.hashSeparator),r=new PurposeRestriction;if(2!==s.length)throw new index_js_1.TCModelError("hash",e);return r.purposeId=parseInt(s[0],10),r.restrictionType=parseInt(s[1],10),r}get hash(){if(!this.isValid())throw new Error("cannot hash invalid PurposeRestriction");return`${this.purposeId}${PurposeRestriction.hashSeparator}${this.restrictionType}`}get purposeId(){return this.purposeId_}set purposeId(e){this.purposeId_=e}isValid(){return Number.isInteger(this.purposeId)&&this.purposeId>0&&(this.restrictionType===RestrictionType_js_1.RestrictionType.NOT_ALLOWED||this.restrictionType===RestrictionType_js_1.RestrictionType.REQUIRE_CONSENT||this.restrictionType===RestrictionType_js_1.RestrictionType.REQUIRE_LI)}isSameAs(e){return this.purposeId===e.purposeId&&this.restrictionType===e.restrictionType}}exports.PurposeRestriction=PurposeRestriction,PurposeRestriction.hashSeparator="-";